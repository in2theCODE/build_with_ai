id: microservice_template
name: Microservice Specification
description: Template for defining a microservice
version: 1.0.0
category: architecture/microservices
sections:
  - name: service_metadata
    description: General information about the microservice
    fields:
      - name: service_name
        type: STRING
        description: Name of the microservice
        required: true
        default_value: ""
        validation_rules:
          - rule_type: PATTERN
            expression: "^[a-z][a-z0-9-]*$"
            error_message: "Service name must be lowercase, start with a letter, and contain only letters, numbers, and hyphens"
      - name: description
        type: STRING
        description: Detailed description of the service
        required: false
        default_value: ""
        validation_rules: []
      - name: version
        type: STRING
        description: Service version
        required: true
        default_value: "1.0.0"
        validation_rules:
          - rule_type: PATTERN
            expression: "^\\d+\\.\\d+\\.\\d+$"
            error_message: "Version must follow semantic versioning (e.g., 1.0.0)"
      - name: owner
        type: STRING
        description: Team or individual responsible for the service
        required: true
        default_value: ""
        validation_rules: []
  - name: service_interface
    description: Service API and interface details
    fields:
      - name: communication_style
        type: ENUM
        description: Primary communication style
        required: true
        default_value: "REST"
        validation_rules:
          - rule_type: ENUM_VALUES
            expression: "REST,GraphQL,gRPC,Event-Based,Message Queue"
            error_message: "Communication style must be one of the listed values"
      - name: port
        type: INTEGER
        description: Port number
        required: true
        default_value: "8080"
        validation_rules:
          - rule_type: RANGE
            expression: "1024,65535"
            error_message: "Port must be between 1024 and 65535"
      - name: health_check_endpoint
        type: STRING
        description: Health check endpoint
        required: true
        default_value: "/health"
        validation_rules: []
      - name: metrics_endpoint
        type: STRING
        description: Metrics endpoint
        required: true
        default_value: "/metrics"
        validation_rules: []
  - name: dependencies
    description: Service dependencies
    fields:
      - name: service_dependencies
        type: ARRAY
        description: List of other services this service depends on
        required: true
        default_value: "[]"
        validation_rules: []
      - name: external_dependencies
        type: ARRAY
        description: List of external dependencies
        required: true
        default_value: "[]"
        validation_rules: []
  - name: data_management
    description: Data management details
    fields:
      - name: database_type
        type: ENUM
        description: Type of database used
        required: true
        default_value: "None"
        validation_rules:
          - rule_type: ENUM_VALUES
            expression: "None,PostgreSQL,MySQL,MongoDB,Redis,Elasticsearch,Other"
            error_message: "Database type must be one of the listed values"
      - name: database_name
        type: STRING
        description: Name of the database
        required: false
        default_value: ""
        validation_rules: []
      - name: data_ownership
        type: ENUM
        description: Approach to data ownership
        required: true
        default_value: "Service Owns Data"
        validation_rules:
          - rule_type: ENUM_VALUES
            expression: "Service Owns Data,Shared Database,External Data Source"
            error_message: "Data ownership must be one of the listed values"
  - name: deployment
    description: Deployment details
    fields:
      - name: deployment_platform
        type: ENUM
        description: Platform for deployment
        required: true
        default_value: "Kubernetes"
        validation_rules:
          - rule_type: ENUM_VALUES
            expression: "Kubernetes,Docker Swarm,AWS ECS,Cloud Foundry,Serverless,Other"
            error_message: "Deployment platform must be one of the listed values"
      - name: resource_requirements
        type: OBJECT
        description: Resource requirements
        required: true
        default_value: |
          {
            "cpu": "100m",
            "memory": "256Mi",
            "storage": "1Gi"
          }
        validation_rules: []
      - name: scaling_policy
        type: OBJECT
        description: Scaling policy
        required: true
        default_value: |
          {
            "min_replicas": 1,
            "max_replicas": 5,
            "cpu_threshold": 70
          }
        validation_rules: []
  - name: event_streaming
    description: Event streaming configuration
    fields:
      - name: uses_event_streaming
        type: BOOLEAN
        description: Whether the service uses event streaming
        required: true
        default_value: "false"
        validation_rules: []
      - name: event_broker
        type: ENUM
        description: Event broker used
        required: false
        default_value: "Kafka"
        validation_rules:
          - rule_type: ENUM_VALUES
            expression: "Kafka,RabbitMQ,Apache Pulsar,NATS,AWS Kinesis,Azure Event Hubs,Other"
            error_message: "Event broker must be one of the listed values"
      - name: published_events
        type: ARRAY
        description: Events published by this service
        required: false
        default_value: "[]"
        validation_rules: []
      - name: subscribed_events
        type: ARRAY
        description: Events subscribed to by this service
        required: false
        default_value: "[]"
        validation_rules: []
