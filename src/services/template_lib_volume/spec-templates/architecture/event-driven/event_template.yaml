id: event_template
name: Event Definition
description: Template for defining events in an event-driven architecture
version: 1.0.0
category: architecture/event-driven
sections:
  - name: event_metadata
    description: General information about the event
    fields:
      - name: event_name
        type: STRING
        description: Name of the event
        required: true
        default_value: ""
        validation_rules:
          - rule_type: PATTERN
            expression: "^[A-Z][a-zA-Z0-9]*$"
            error_message: "Event name must be in PascalCase"
      - name: description
        type: STRING
        description: Detailed description of the event
        required: true
        default_value: ""
        validation_rules: []
      - name: version
        type: STRING
        description: Event schema version
        required: true
        default_value: "1.0.0"
        validation_rules:
          - rule_type: PATTERN
            expression: "^\\d+\\.\\d+\\.\\d+$"
            error_message: "Version must follow semantic versioning (e.g., 1.0.0)"
      - name: domain
        type: STRING
        description: Business domain this event belongs to
        required: true
        default_value: ""
        validation_rules: []
  - name: event_schema
    description: Schema details for the event
    fields:
      - name: schema_format
        type: ENUM
        description: Format of the event schema
        required: true
        default_value: "JSON"
        validation_rules:
          - rule_type: ENUM_VALUES
            expression: "JSON,Avro,Protobuf,XML,Other"
            error_message: "Schema format must be one of the listed values"
      - name: payload_schema
        type: CODE
        description: Schema definition for the event payload
        required: true
        default_value: "{}"
        validation_rules: []
      - name: examples
        type: ARRAY
        description: Example event payloads
        required: false
        default_value: "[]"
        validation_rules: []
  - name: event_flow
    description: Information about event flow
    fields:
      - name: producer_service
        type: STRING
        description: Service that produces this event
        required: true
        default_value: ""
        validation_rules: []
      - name: consumer_services
        type: ARRAY
        description: Services that consume this event
        required: true
        default_value: "[]"
        validation_rules: []
      - name: event_channel
        type: STRING
        description: Channel/topic/queue where the event is published
        required: true
        default_value: ""
        validation_rules: []
      - name: delivery_guarantees
        type: ENUM
        description: Delivery guarantee for this event
        required: true
        default_value: "AT_LEAST_ONCE"
        validation_rules:
          - rule_type: ENUM_VALUES
            expression: "AT_LEAST_ONCE,EXACTLY_ONCE,AT_MOST_ONCE"
            error_message: "Delivery guarantee must be one of the listed values"
  - name: event_handling
    description: Details about event handling
    fields:
      - name: retry_policy
        type: OBJECT
        description: Retry policy for failed event processing
        required: false
        default_value: |
          {
            "max_retries": 3,
            "backoff_strategy": "exponential",
            "initial_delay_ms": 1000,
            "max_delay_ms": 60000
          }
        validation_rules: []
      - name: dead_letter_channel
        type: STRING
        description: Channel for unprocessable events
        required: false
        default_value: ""
        validation_rules: []
      - name: idempotency_strategy
        type: ENUM
        description: Strategy to ensure idempotent processing
        required: true
        default_value: "IDEMPOTENCY_KEY"
        validation_rules:
          - rule_type: ENUM_VALUES
            expression: "IDEMPOTENCY_KEY,NATURAL_KEY,NONE"
            error_message: "Idempotency strategy must be one of the listed values"
