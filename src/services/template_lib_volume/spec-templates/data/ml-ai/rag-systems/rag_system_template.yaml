id: rag_system_template
name: RAG System Configuration
description: Template for configuring a Retrieval-Augmented Generation system
version: 1.0.0
category: data/ml-ai
sections:
  - name: system_info
    description: General information about the RAG system
    fields:
      - name: system_name
        type: STRING
        description: Name of the RAG system
        required: true
        default_value: ""
        validation_rules:
          - rule_type: MIN_LENGTH
            expression: "1"
            error_message: "System name cannot be empty"
      - name: description
        type: STRING
        description: Description of the RAG system's purpose
        required: true
        default_value: ""
        validation_rules: []
      - name: architecture_type
        type: ENUM
        description: Architecture type of the RAG system
        required: true
        default_value: "Basic"
        validation_rules:
          - rule_type: ENUM_VALUES
            expression: "Basic,Hierarchical,Contextual,Multi-Query,Hybrid,Agent-based"
            error_message: "Must be a valid RAG architecture type"
  - name: llm_configuration
    description: Configuration for the Language Model
    fields:
      - name: model_provider
        type: ENUM
        description: Provider of the LLM
        required: true
        default_value: "openai"
        validation_rules:
          - rule_type: ENUM_VALUES
            expression: "openai,anthropic,google,cohere,huggingface,local,azure,mistral,other"
            error_message: "Must be a supported model provider"
      - name: model_name
        type: STRING
        description: Name of the model
        required: true
        default_value: "gpt-4"
        validation_rules: []
      - name: temperature
        type: FLOAT
        description: Temperature setting for generation
        required: true
        default_value: "0.7"
        validation_rules:
          - rule_type: RANGE
            expression: "0.0,2.0"
            error_message: "Temperature must be between 0.0 and 2.0"
      - name: max_tokens
        type: INTEGER
        description: Maximum tokens in model response
        required: true
        default_value: "1024"
        validation_rules:
          - rule_type: RANGE
            expression: "1,32000"
            error_message: "Max tokens must be between 1 and 32000"
      - name: system_prompt_template
        type: STRING
        description: Template for the system prompt
        required: false
        default_value: "You are a helpful assistant that answers questions based on the provided context. If the answer isn't in the context, say you don't know."
        validation_rules: []
  - name: retriever_configuration
    description: Configuration for the retrieval component
    fields:
      - name: retriever_type
        type: ENUM
        description: Type of retrieval mechanism
        required: true
        default_value: "vector_search"
        validation_rules:
          - rule_type: ENUM_VALUES
            expression: "vector_search,hybrid,keyword,semantic,reranking"
            error_message: "Must be a valid retriever type"
      - name: vector_database
        type: ENUM
        description: Vector database used for retrieval
        required: false
        default_value: "pinecone"
        validation_rules:
          - rule_type: ENUM_VALUES
            expression: "pinecone,pgvector,milvus,weaviate,qdrant,elasticsearch,chroma,redis,none"
            error_message: "Must be a supported vector database"
      - name: embedding_model
        type: STRING
        description: Embedding model for vectorization
        required: false
        default_value: "text-embedding-ada-002"
        validation_rules: []
      - name: embedding_dimensions
        type: INTEGER
        description: Dimensionality of the embeddings
        required: false
        default_value: "1536"
        validation_rules:
          - rule_type: RANGE
            expression: "2,8192"
            error_message: "Dimensions must be between 2 and 8192"
      - name: similarity_metric
        type: ENUM
        description: Similarity metric for retrieval
        required: false
        default_value: "cosine"
        validation_rules:
          - rule_type: ENUM_VALUES
            expression: "cosine,euclidean,dot,manhattan"
            error_message: "Must be a supported similarity metric"
      - name: top_k
        type: INTEGER
        description: Number of top documents to retrieve
        required: true
        default_value: "5"
        validation_rules:
          - rule_type: RANGE
            expression: "1,100"
            error_message: "Top-K must be between 1 and 100"
      - name: reranker_model
        type: STRING
        description: Model for reranking (if applicable)
        required: false
        default_value: ""
        validation_rules: []
  - name: data_sources
    description: Sources of data for the RAG system
    fields:
      - name: data_source_types
        type: ARRAY
        description: Types of data sources
        required: true
        default_value: |
          [
            "documents",
            "web"
          ]
        validation_rules: []
      - name: document_loaders
        type: ARRAY
        description: Document loaders for different file types
        required: false
        default_value: |
          [
            "pdf",
            "docx",
            "txt"
          ]
        validation_rules: []
      - name: text_splitter
        type: OBJECT
        description: Configuration for text splitting
        required: true
        default_value: |
          {
            "type": "recursive_character",
            "chunk_size": 1000,
            "chunk_overlap": 200
          }
        validation_rules: []
      - name: data_preprocessing
        type: ARRAY
        description: Preprocessing steps for data
        required: false
        default_value: |
          [
            "remove_extra_whitespace",
            "sanitize_html"
          ]
        validation_rules: []
  - name: system_features
    description: Additional features of the RAG system
    fields:
      - name: use_prompt_templates
        type: BOOLEAN
        description: Whether to use prompt templates
        required: true
        default_value: "true"
        validation_rules: []
      - name: use_agents
        type: BOOLEAN
        description: Whether to use agents for complex queries
        required: true
        default_value: "false"
        validation_rules: []
      - name: streaming_enabled
        type: BOOLEAN
        description: Whether to enable streaming responses
        required: true
        default_value: "true"
        validation_rules: []
      - name: enable_feedback_collection
        type: BOOLEAN
        description: Whether to enable feedback collection
        required: true
        default_value: "true"
        validation_rules: []
      - name: enable_caching
        type: BOOLEAN
        description: Whether to enable caching of results
        required: true
        default_value: "true"
        validation_rules: []
      - name: enable_search_fallback
        type: BOOLEAN
        description: Whether to enable search fallback when no results
        required: true
        default_value: "false"
        validation_rules: []
